<!DOCTYPE html>

<html lang="en">

<head>
  <title>CTI App</title>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script async src="{{{appclient}}}"></script>
  <!-- <script async src="https://static.freshdev.io/fdk/2.0/assets/fresh_client.js"></script> -->
  <link rel="stylesheet" type="text/css" href="https://static.freshdev.io/fdk/2.0/assets/freshdesk.css">

  <script src="https://pbx-stg.oncallcx.vn/cti/ancti/ancti.js"></script>

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <link rel="stylesheet" href="styles/outbount.css">
  <link rel="stylesheet" href="styles/collapseClickToCall.css">
  <link rel="stylesheet" href="styles/contact.css" />
  <link rel="stylesheet" href="styles/busyCall.css" />
  <link rel="stylesheet" href="styles/historyCall.css" />
  <link rel="stylesheet" href="styles/inbound.css" />
  <link rel="stylesheet" type="text/css" href="styles/style.css" />

  <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/6b20b1c14d.js" crossorigin="anonymous"></script>

  <style>
    .options fw-icon {
      vertical-align: middle;
    }
  </style>
</head>


<body>
  <div class="fw-widget-wrapper">
    <video id="localView" style="display: none;" playsInline autoPlay muted></video>
    <video id="remoteView" style="display: none;" playsInline autoPlay muted></video>

    <!-- Placeholder divs where HTML content will be loaded -->

    <div id="dynamicMainContent"></div>
    <!-- màn hình đang gọi -->
    <div id="dynamicMainOutbound"></div>
    <!-- màn hình bận -->
    <div id="dynamicMainBusyCall"></div>
    <div id="dynamicMainCollapseClickToCall"></div>
    <!-- Inbound -->
    <div id="dynamicMainInbound"></div>
    <!-- thu gon màn hình agent call chưa bắt máy -->
    <div id="dynamicMainInboundCollapse"></div>
    <!-- màn agent bắt máy  -->
    <div id="dynamicMainInboundListen"></div>
    <!--thu gọn màn agent bắt máy  -->
    <div id="dynamicMainInboundListenCollapse"></div>
    <!-- Contact -->
    <div id="dynamicMainListContacts"></div>
    <!-- History Call -->
    <div id="dynamicMainListHistoryCall"></div>
    <!-- History Miss Call -->
    <div id="dynamicMainListMissCall"></div>

    <!-- Your existing content -->
    <div id="mainConnect" class="city">
      <div class="containerConnect">
        <div class="column">
          <h4>Softphone Connection</h4>
        </div>
        <div class="column">
          <div class="flex-his" style="margin: 0 10px;">
            <div class="flex-his">
              <div class="mr" href="#" style="line-height: 5rem;">
                <img src="./images/icon_profile.png" class="avatar-connect">
              </div>
              <div class="pull-right">
                <p id="displayValueQC">SST-QC05</p>
                <p id="displayValueEmailLogin" class="his-call-txt-time"></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="viewConnecting" style="display: block;">
        <div class="pb-15">
          <fw-input id="roleAcct" label="Role" disabled>
          </fw-input>
        </div>

        <div class="pb-15">
          <fw-select id="complexSelect" label="Workplace Selection" placeholder="(select)" required="true" readonly>
          </fw-select>
        </div>

        <div class="pb-15">
          <fw-select id="statusAcct" label="Status" readonly>
          </fw-select>
        </div>

        <div class="containerConnect" style="padding-top: 16rem;">
          <div class="column">
            <img src="./styles/images/icon.svg" style="height: 24px;"><span style="margin-left: 3px;">OncallCX CTI
              Client
              1.0</span>
          </div>
          <div class="column">
            <!-- <div class="flex-his" style="margin: 0 10px;"> -->
            <div class="" style="margin: 0 10px;">
              <div class="pull-right">
                <button class="btn btn--primary btn--normal" id="btnConnect" onclick="showSoftphoneConnect()" disabled>
                  <span class="btn--label">Connect</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="displayConnect" style="display: none; padding: 14px 0;">
        <div class="containerConnect">
          <div class="column">
            <p class="connect--lable">Role:</p>
          </div>

          <div class="column">
            <p class="connect--p" id="displayValueRoleAcct"></p>
          </div>
        </div>

        <div class="containerConnect">
          <div class="column">
            <p class="connect--lable">Extension:</p>
          </div>

          <div class="column">
            <p class="connect--p" id="displayValueExtension"></p>
          </div>
        </div>

        <div class="containerConnect">
          <div class="column">
            <p class="connect--lable">Status:</p>
          </div>

          <div class="column">
            <p class="connect--p" id="displayValueStatusAcct"></p>
          </div>
        </div>

        <div class="notification">
          <div class="notification-icon"> <img src="./images/icon_check_circle.png" /></div>
          <!-- Biểu tượng checkmark -->
          <div class="notification-content">
            <div class="notification-title">Success!</div>
            <div class="notification-message">Connect Successfully to OncallCX Server</div>
          </div>
        </div>

        <div class="containerConnect" style="padding-top: 10rem;">
          <div class="column">
            <img src="./styles/images/icon.svg" style="height: 24px;">
            <span style="margin-left: 3px;">OncallCX CTIClient 1.0</span>
          </div>
          <div class="column">
            <div class="">
              <button class="btn btn--primary btn--normal" id="btnGoToOncallCX" onclick="goToOncallCX()">
                <span class="btn--label">Go to OncallCX</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

<script defer src="scripts/app.js"></script>
<!-- <script defer src="scripts/as7.js"></script> -->
<script async type="module" src="https://unpkg.com/@freshworks/crayons@4/dist/crayons/crayons.esm.js"></script>
<script async nomodule src="https://unpkg.com/@freshworks/crayons@4/dist/crayons/crayons.js"></script>

<script>
  // $('input[name="output"]').on('change', function () {
  //   if ($(this).val().length == 0) {
  //     alert('Input field is empty');
  //   }
  // });

  // $(document).ready(function () {
  //   // Add sự kiện cuộn trang trong đối tượng window
  //   window.onscroll = function () { stickyMenu() };
  //   // Định nghĩa hàm khi sự kiện cuộn trang được kích hoạt
  //   var menu, sticky;
  //   menu = document.getElementById('menubar');
  //   sticky = menu.offsetTop;

  //   function stickyMenu() {
  //     if (window.pageYOffset >= 100) {
  //       menu.classList.add("sticky");
  //     } else {
  //       menu.classList.remove("sticky");
  //     }
  //   }
  // })

  /**
 * Hiển thị ra màn hình bảng chữ cái abc.
 * Ví dụ: String.fromCharCode(97)) sẽ trả về ký tự"a" 
 */
  function fromCharCode() {
    // viết code ở đây.
    for (i = 97; i < 123; i++) {
      var s = String.fromCharCode(i);
      console.log(s.toUpperCase());
    }
  }

  // Function to load external HTML file into a specified element
  function loadHTML(url, targetId) {
    fetch(url)
      .then(response => response.text())
      .then(html => {
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.innerHTML = html;
        }
      })
      .catch(error => console.error('Error loading HTML:', error));
  }

  loadHTML('mainContent.html', 'dynamicMainContent');
  loadHTML('mainOutbound.html', 'dynamicMainOutbound');
  loadHTML('mainBusyCall.html', 'dynamicMainBusyCall');
  loadHTML('mainCollapseClickToCall.html', 'dynamicMainCollapseClickToCall');
  loadHTML('mainInbound.html', 'dynamicMainInbound');
  loadHTML('mainInboundCollapse.html', 'dynamicMainInboundCollapse');
  loadHTML('mainInboundListen.html', 'dynamicMainInboundListen');
  loadHTML('mainInboundListenCollapse.html', 'dynamicMainInboundListenCollapse');
  loadHTML('mainListContacts.html', 'dynamicMainListContacts');
  loadHTML('mainListHistoryCall.html', 'dynamicMainListHistoryCall');
  loadHTML('mainListMissCall.html', 'dynamicMainListMissCall');


</script>

</html>